<?php	abstract class Action	{		protected $id;		protected $error;				public function __construct($servicios = array())		{			if (is_array($servicios) and count($servicios) > 0)				foreach ($servicios as $propServicio => $servicio)				{					if ($servicio->getError())					{						$this->error = $servicio->getError();						break;					}					$this->$propServicio = $servicio;				}		}				public function __get($atributo)		{			return $this->$atributo;		}				public function __set($atributo, $valor)	    {	        $this->$atributo = $valor;	    }				public function to_view()		{			$propiedades = get_class_vars(get_class($this));			foreach ($propiedades as $propiedad => $valor)			{				if ($propiedad == 'id' or substr($propiedad, (strlen($propiedad) - 7)) == 'Service')					continue;				global $$propiedad;				$$propiedad = $this->$propiedad;			}		}				public static function cargaAction($action, $services = array())		{			$args = array();			foreach ($services as $service)			{				if (!$service)					continue;				$args[$service] = new $service();			}			return new $action($args);		}				protected function redirect_to_action($action)		{			header('Location:' . link_action($action));			exit();		}				protected function redirect_to_view($view)		{			$this->to_view();			include('./view' . $view);			exit();		}				protected function redirect_to_url($url)		{			header('Location:' . $url);			exit();		}				public function getId()		{			return $this->id;		}				public function setId($id)		{			$this->id = $id;		}				public function getError()		{			return $this->error;		}	}